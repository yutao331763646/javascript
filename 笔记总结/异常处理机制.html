<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305576 (zh-CN, DDL); Windows/6.1.7600 (Win64);"/>
  <meta name="reminder-order" content="2017/2/3 9:10"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1277"/>

<div>
<span><div><span style="font-size: 16px;"><br/></span></div><div><img src="异常处理机制_files/Image.png" type="image/png" data-filename="" style="height: auto;"/></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">try {</span></span></span></div><div align="left" style="min-height: 13pt;"><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">if(fileA是否存在??){</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">     if(fileA是否有读取权限???){</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">          if(D盘是否有读写权限??) {</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">               if(D盘是否有足够空间存放){</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                    if(D盘是否有同名文件存在??){</span></font></span></span></div></div><div align="left" style="min-height: 11pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         fileA.copy().move(&quot;D:/ssss&quot;) //5行</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         if(如果复制过程中,突然断电){</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                              //向系统发送一个消息，告诉系统文件复制错误！                                                      </span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         }</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         if(如果复制过程中,fileA被修改??){</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                              </span></font><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">//向系统发送一个消息，告诉系统文件被修改</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         }</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         if(如果复制过程被取消??){</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                              </span></font><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">//向系统发送一个消息，告诉系统被取消</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         }</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                    } else {</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                         //发出一个错误消息：有同名文件存在！！！</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                    }</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">               } else {</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">                    //发出一个错误消息： 空间不足！！</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">              </span></font> <span style="font-family: consolas;">}</span></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">          }</span></font></span></span></div></div><div align="left" style="min-height: 13pt;margin-left:40px;"><div><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(255, 255, 204); background-position: initial initial; background-repeat: initial initial;">     }</span></font></span></span></div></div><div align="left" style="min-height: 13pt;"><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="color: rgb(70, 70, 70);"><font face="consolas"><span style="background-color: rgb(227, 220, 137); background-position: initial initial; background-repeat: initial initial;">}</span></font></span></span></div></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">} catch(e){</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     //当拦截到异常消息时，进行处理</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     //当一个异常消息被catch时，那么错误会被掩盖，不影响后续代码的执行<br/></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">}</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><br/></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">throw new Error(“xxxxxx”);  //手动的创建一个异常消息，并向上级抛出</span></span></span></div></div><div><br/></div></span>
</div></body></html> 