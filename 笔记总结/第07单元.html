<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305538 (zh-CN, DDL); Windows/6.1.7600 (Win64);"/>
  <meta name="reminder-order" content="2016/12/2 4:28"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1265"/>

<div>
<span><div><span style="font-size: 16px;">什么是DOM？    <span style="color: rgb(255, 0, 0);"><b>D</b></span>ocument <span style="color: rgb(255, 0, 0);"><b>O</b></span>bject <span style="color: rgb(255, 0, 0);"><b>M</b></span>odel</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">window 浏览器窗口</span></div><div><span style="font-size: 16px;">document   把整个网页看做一个对象</span></div><div><span style="font-size: 16px;">通过操作整个对象，来控制改变网页的内容</span></div><div><br/></div><div><span style="font-size: 16px;">document.write();</span></div></div><div><br/></div><div><span style="font-size: 16px;">和window对象的关系</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">window.document</span></div><div><span style="font-size: 16px;">window.document.body</span></div></div><div><br/></div><div><span style="font-size: 16px;">什么是DOM树？？</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">网页文档的树形结构</span></div><div><br/></div><div><img src="第07单元_files/Image.jpg" type="image/jpeg" data-filename="" style="font-size: 12pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;">DOM元素？ DOM对象？ DOM节点？ 指的是同一个东西吗？</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">YES</span></div></div><div><br/></div><div><span style="font-size: 16px;">DOM元素的基本操作 （<b><span style="color: rgb(166, 0, 196);">增 、删、改、查</span></b>）</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">查询---------</span></div><div><span style="font-size: 16px;">document.getElementById()    通过ID号查找元素</span></div><div><span style="font-size: 16px;">document.getElementsByTagName()    通过标签名称查找元素</span></div><div><span style="font-size: 16px;">document.getElementsByName()      通过name属性来查找元素</span></div><div><span style="font-size: 16px;"><span style="color: rgb(255, 0, 0);">document.getElementsByClassName()</span>   通过class属性来查找元素</span></div><div><span style="font-size: 16px;">IE8以下 不支持byClassName方法</span></div><div><br/></div><div><span style="font-size: 16px;">增---------</span></div><div><span style="font-size: 16px;"><b>document.createElement()  </b> </span><span style="font-size: 16px;">创建一个DOM元素</span></div><div><span style="font-size: 16px;"><b>box.appendChild(target)    </b></span><span style="font-size: 16px;">将target元素追加到box元素的内部，此时浏览器才能正确加载并显示元素</span></div><div><span style="font-size: 16px;"><b>parent.insertBefore(newnode, oldnode)   </b></span><span style="font-size: 16px;">将newnode元素插入到parent元素的内部，同时放在oldnode元素的前面</span></div><div><br/></div><div><span style="font-size: 16px;">删除---------</span></div><div><span style="font-size: 16px;">parent.removeChild(child)    将child元素删除，parent是child元素的父亲</span></div><div><span style="font-size: 16px;">node.remove();</span></div><div><br/></div><div><span style="font-size: 16px;">改------------</span></div><div><span style="font-size: 16px;">box.style.background = &quot;red&quot;;   </span></div></div><div><br/></div><div><span style="font-size: 16px;">如何操作自定义属性？</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">获取一个自定义属性的值</span></div><div><span style="font-size: 16px;">box.getAttribute(&quot;index&quot;)</span></div><div><span style="font-size: 16px;">修改~~~</span></div><div><span style="font-size: 16px;">box.index = 99;</span></div><div><span style="font-size: 16px;">box.setAttribute(&quot;index&quot;,99)</span></div></div><div><br/></div><div><span style="font-size: 16px;">对于非行内样式的操作（可修改不可读取）</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">getComputedStyle(obj, null).top   //属性只读</span></div></div><div><br/></div><div><span style="font-size: 16px;">树上的节点有几种类型？</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">三种类型：</span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">1  元素节点   nodeType 值为 1</span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">2  文本节点   nodeType 值为 3</span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">3  属性节点  ~~~~~~~~~~2</span></span></div><div><br/></div></div><div><br/></div><div><hr/></div><div><br/></div><div><img src="第07单元_files/Image.png" type="image/png" data-filename=""/></div><div><br/></div><div><hr/></div><div><br/></div><div><span style="font-size: 16px;">高级操作----查</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;"><span style="color: rgb(51, 51, 51);">parentNode   //获取父节点</span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">childNodes    //获取所有子节点</span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;"><b>children</b>   //获取所有子标签<b><span style="color: rgb(255, 0, 0);">(非W3C标准)</span></b></span></span></div><div><br/></div><div><span style="font-size: 16px;">previousSibling  前一个兄弟节点</span></div><div><span style="font-size: 16px;">nextSibling        后一个兄弟节点</span></div><div><span style="font-size: 16px;">previousElementSibling     前一个兄弟元素（非W3C标准）</span></div><div><span style="font-size: 16px;">nextElementSibling           后一个兄弟元素（非W3C标准）</span></div></div><div><br/></div><div><span style="font-size: 16px;">如何忽略空白节点？  </span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">function getElementChildren(obj){</span></div><div><span style="font-size: 16px;">     var list = obj.childNodes;</span></div><div>     <span style="font-size: 16px;"> var res = [];</span></div><div><span style="font-size: 16px;">     for(var i=0; i&lt;list.length; i++){</span></div><div><span style="font-size: 16px;">          if(list[i].nodeType == 1 ){</span></div><div><span style="font-size: 16px;">               res.push(list[i]);     </span></div><div><span style="font-size: 16px;">          }</span></div><div><span style="font-size: 16px;">     }</span></div><div>     <span style="font-size: 16px;"> return res;</span></div><div><span style="font-size: 16px;">}</span></div></div><div><br/></div><div><span style="font-size: 16px;">高级操作----位置、大小计算</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">offsetWidth /  clientWidth      计算元素的<span style="color: rgb(255, 0, 0);">可视</span>宽度  边框计算在内</span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">offsetHeight / clientHeight     计算元素的<span style="color: rgb(255, 0, 0);">可视</span>高度</span></span></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(51, 51, 51);"><b>ele.offsetLeft  </b>  </span> 计算元素相对于参照物的位置(有定位的父元素)</span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;"><b>ele.offsetTop</b>     </span></span><span style="font-size: 16px;">计算元素相对于参照物的位置(有定位的父元素)</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">//获取参照物父元素</span></span></div><div><span style="color: rgb(235, 0, 115);"><span style="font-size: 16px;">offsetParent       获取参照物父元素，获取有定位的父元素</span></span></div></div><div><br/></div><div><span style="font-size: 16px;">高级操作----改</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">innerHTML  和  innerText  区别？</span></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div>&lt;ul id=&quot;box&quot;&gt;xyz</div><div>     &lt;li&gt;a&lt;/li&gt;</div><div>     &lt;li&gt;b&lt;/li&gt;</div><div>     &lt;li&gt;c&lt;/li&gt;</div><div>     &lt;li&gt;d&lt;/li&gt;</div><div>&lt;/ul&gt;</div></div><div><br/></div><div><b><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">box.innerHTML的结果是： </span></span></b><div><span style="color: rgb(255, 70, 53);">xyz</span></div><div><span style="color: rgb(255, 70, 53);">     &lt;li&gt;a&lt;/li&gt;</span></div><div><span style="color: rgb(255, 70, 53);">     &lt;li&gt;b&lt;/li&gt;</span></div><div><span style="color: rgb(255, 70, 53);">     &lt;li&gt;c&lt;/li&gt;</span></div></div><div><span style="color: rgb(255, 70, 53);">     &lt;li&gt;d&lt;/li&gt;</span></div><div><span style="font-size: 16px;"><b>box.innerText的结果是：</b></span></div><div><span style="color: rgb(255, 70, 53);"><span style="font-size: 16px;">xyz  a  b  c  d </span></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;">innerHTML 和 nodeValue  区别？</span></span></div><div><br/></div></div><div><br/></div><div><span style="font-size: 16px;">文本节点</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 15px;">var txt = document.createTextNode(&quot;nihao&quot;);</span></div><div><span style="font-size: 15px;">document.body.appendChild(txt);</span></div></div><div><br/></div><div style="text-align: justify"><span style="font-size: 16px;">计算一个元素在页面的绝对位置？</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">var _left=0,_top=0;</span></div><div><span style="font-size: 16px;">while(obj){</span></div><div><span style="font-size: 16px;">     _left += obj.offsetLeft;</span></div><div><span style="font-size: 16px;">     _top += obj.offsetTop;</span></div><div>     <span style="font-size: 16px;"> obj = obj.offsetParent;</span></div><div><span style="font-size: 16px;">}</span></div></div><div><br/></div><div><span style="font-size: 16px;">文档碎片（缓存的概念）</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">document.createDocumentFragment()</span></div><div><br/></div><div><span style="color: rgb(54, 101, 238);"><span style="font-size: 16px;">缓存可以提高操作效率</span></span></div></div><div><br/></div><div><span style="font-size: 16px;">文档碎片测试</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">var t1 = new Date().getTime();</span></div><div><span style="font-size: 16px;">for(var i=0; i&lt;10000; i++) {</span></div><div><span style="font-size: 16px;">    var oP = document.createElement(&quot;p&quot;)</span></div><div><span style="font-size: 16px;">    oP.innerHTML = &quot;a&quot;;</span></div><div><span style="font-size: 16px;">    document.body.appendChild(oP);</span></div><div><span style="font-size: 16px;">}</span></div><div><span style="font-size: 16px;">var t2 = new Date().getTime();</span></div><div><span style="font-size: 16px;">console.log(t2-t1);</span></div><div><br/></div><div><span style="font-size: 16px;">var t3 = new Date().getTime();</span></div><div><span style="font-size: 16px;">var frag = document.createDocumentFragment();</span></div><div><span style="font-size: 16px;">for(var i=0; i&lt;10000; i++) {</span></div><div><span style="font-size: 16px;">    var oP = document.createElement(&quot;p&quot;)</span></div><div><span style="font-size: 16px;">    oP.innerHTML = &quot;a&quot;;</span></div><div><span style="font-size: 16px;">    frag.appendChild(oP);</span></div><div><span style="font-size: 16px;">}</span></div><div><span style="font-size: 16px;">document.body.appendChild(frag);</span></div><div><span style="font-size: 16px;">var t4 = new Date().getTime();</span></div><div><span style="font-size: 16px;">console.log(t4-t3);</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 